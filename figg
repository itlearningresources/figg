#!/usr/bin/ksh
Tmp="/tmp/$$"
TmpDir="/tmp/dir$$"
trap 'rm -f "$Tmp" >/dev/null 2>&1' 0
trap "exit 2" 1 2 3 13 15


while getopts "d:c:r:a:e:i:lxv" arg
do
	case $arg in
            i)  
                JF=$OPTARG 
                shift $(($OPTIND - 1))
                while [[ "$cmd" != "q" ]]
                do
                     print -n "figg/$JF >> ";read var;set -A arr $var;cmd=${arr[0]};
	             case $cmd  in
                       e) figg -e $JF ;;
                       c) figg -c $JF ;;
                       d) figg -d $JF ;;
                       r) figg -r $JF $1 $2 $3 $4 $5 $6;;
                       l) figg -l ;;
                       h) print "\n(e)dit (c)ompile (r)un (l)ist (d) javadoc (h)elp\n" 
                          print "FILENAME IS "$JF"\n" 
                          javac -version
                          java -version
                          print "\n" 
                          ;;
	             esac
                done

               ;;
            c) JF=$OPTARG 
               rm -f $Tmp >/dev/null 2>&1
               javac -cp classes -d classes src/$JF.java 2> $Tmp
               if [ -s $Tmp ]
               then
                    print "Listing"
                    cat   $Tmp
               else
                    print "OK"
               fi
               ;;
            x) 
               javac -cp classes -d classes src/*.java
               ;;
            r) JF=$OPTARG 
               shift $(($OPTIND - 1))
               java -cp classes $JF $1 $2 $3 $4 $5 $6
               ;;
            a) JF=$OPTARG 
               shift $(($OPTIND - 1))
               javac -cp classes -d classes src/$JF.java
               java -cp classes $JF $1 $2 $3 $4 $5 $6
               ;;
            e) JF=$OPTARG 
               vi src/$JF.java
               ;;
            l) ls -l src
               ;;
            d) JF=$OPTARG 
               shift $(($OPTIND - 1))
               javadoc -d doc src/*.java
               xdg-open  "doc/index.html" >/dev/null 2>&1
               ;;
            v) java  -version
               ;;
	    *) exit 0 ;;
	esac
done


